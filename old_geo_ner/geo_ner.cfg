###############################################
# Geo NER Configuration File
#
# This file configures which Named Entity Recognition (NER) systems are enabled
# and the order in which they are applied to text.
#
# Lines beginning with # are comments and ignored.
#
# NER SYSTEM CONFIGURATION
# ========================
#
# Each NER system can be enabled/disabled and configured independently.
# The order of execution follows the order specified in the ENABLED_SYSTEMS list.
#
# Available NER Systems:
#   - SPACY_NER: Uses SpaCy models for GPE, LOC entity detection
#   - SHIPENGINE_ADDRESS: Uses ShipEngine API for address parsing
#   - AZURE_NER: Uses Microsoft Azure Text Analytics v3.0 API for Location and Address entity detection
#
# ================================================

# ENABLED NER SYSTEMS (execution order matters!)
# ===============================================
# List the NER systems to use in order of execution
# Systems will be applied in the order they appear in this list
ENABLED_SYSTEMS = "AZURE_NER"

# SPACY NER SYSTEM
# ================
ENABLE_SPACY_NER = true
# Specify the SpaCy language model to use for NER
# Available English core models:
#   Small / fast (lowest accuracy): en_core_web_sm
#   Medium (balanced): en_core_web_md  
#   Large (higher accuracy, larger download): en_core_web_lg
#   Transformer (highest accuracy, slowest, needs extra deps): en_core_web_trf
SPACY_MODEL = "en_core_web_lg"
# Target entity types for SpaCy (comma-separated)
SPACY_TARGET_ENTITIES = "GPE,LOC"

# SHIPENGINE ADDRESS PARSER SYSTEM
# ================================
ENABLE_SHIPENGINE_ADDRESS = false
# Enable regex fallback when ShipEngine API is unavailable (default: true)
ENABLE_SHIPENGINE_FALLBACK = true

# AZURE NER SYSTEM
# ================
ENABLE_AZURE_NER = true
# Target entity types for Azure NER (comma-separated)
AZURE_TARGET_ENTITIES = "Location,Address"
# Minimum confidence score for entity detection (0.0 to 1.0)
AZURE_CONFIDENCE_THRESHOLD = "0.8"

# GLOBAL SETTINGS
# ===============
# Logging level for NER processing
NER_LOG_LEVEL = "DEBUG"

# OVERLAP PREVENTION SETTINGS
# ===========================
# Enable placeholder strategy to prevent nested XML tags
# When enabled, entities from earlier NER systems are replaced with placeholders
# before processing with later systems, then restored to prevent overlaps
# When disabled, systems process text sequentially (may result in nested tags)
ENABLE_PLACEHOLDER_STRATEGY = true

# Enable nested tag removal to clean up any remaining nested XML tags
# When enabled, the pipeline will detect and remove nested geo-XML tags
# When disabled, nested tags will be preserved in the output
ENABLE_NESTED_TAG_REMOVAL = true
